.libPaths("C:/Users/admin/R/4.0/")
example(source)
try(roxygen2::roxygenize(load_code = sourceDir), silent = TRUE)
pkgbuild::compile_dll()
roxygen2::roxygenize()
devtools::install(quick=FALSE)
devtools::load_all()
b1 <- st_sf(st_sfc(st_polygon(list(cbind(c(0,3,3,0,0),c(0,0,3,3,0))))))
require(sf)
b1 <- st_sf(st_sfc(st_polygon(list(cbind(c(0,3,3,0,0),c(0,0,3,3,0))))))
g1 <- create_grid(b1,0.5)
g1
plot(g1)
dp <- data.frame(y=runif(10,0,3),x=runif(10,0,3),date=paste0("2021-01-",11:20))
dp <- create_points(dp,pos_vars = c('y','x'),t_var='date')
cov1 <- create_grid(b1,0.8)
cov1$cov <- runif(nrow(cov1))
g1 <- add_covariates(g1,
cov1,
zcols="cov",
verbose = FALSE)
g1
plot(g1)
g1 <- points_to_grid(g1, dp, laglength=5)
require(lubridate)
g1 <- points_to_grid(g1, dp, laglength=5)
g1
g1 <- points_to_grid(g1, dp, laglength=3)
b1 <- st_sf(st_sfc(st_polygon(list(cbind(c(0,3,3,0,0),c(0,0,3,3,0))))))
g1 <- create_grid(b1,0.5)
dp <- data.frame(y=runif(10,0,3),x=runif(10,0,3),date=paste0("2021-01-",11:20))
dp <- create_points(dp,pos_vars = c('y','x'),t_var='date')
cov1 <- create_grid(b1,0.8)
cov1$cov <- runif(nrow(cov1))
g1 <- add_covariates(g1,
cov1,
zcols="cov",
verbose = FALSE)
g1 <- points_to_grid(g1, dp, laglength=3)
res <- lgcp_fit(g1,
popdens="cov")
priors <- list(
prior_lscale=c(0,0.5),
prior_var=c(0,0.5),
prior_linpred_mean=c(0),
prior_linpred_sd=c(5)
)
priors <- list(
prior_lscale=c(0,0.5),
prior_var=c(0,0.5),
prior_linpred_mean=c(0),
prior_linpred_sd=c(5)
)
res <- lgcp_fit(g1,
popdens="cov",
priors = priors)
priors
res <- lgcp_fit(g1,
popdens="cov",
priors = priors)
priors$prior_linpred_mean
priors$prior_linpred_mean[1]
devtools::unload()
devtools::load_all()
res <- lgcp_fit(g1,
popdens="cov",
priors = priors)
devtools::unload()
devtools::load_all()
res <- lgcp_fit(g1,
popdens="cov",
priors = priors)
as.array(c(0))
as.array(c(0,2))
devtools::unload()
devtools::load_all()
res <- lgcp_fit(g1,
popdens="cov",
priors = priors)
devtools::unload()
roxygen2::roxygenize()
devtools::load_all()
help(extract_preds)
o1 <- extract_preds(g1,
res,
popdens="cov")
o1 <- extract_preds(g1,
res,
type=c("pred","rr"),
popdens="cov")
devtools::unload()
devtools::load_all()
help(extract_preds)
o1 <- extract_preds(g1,
res,
type=c("pred","rr"),
popdens="cov")
tmp <- rstan::extract(res,"f")
tmp
dim(tmp)
tmp$f
dim(tmp$f)
devtools::unload()
devtools::load_all()
o1 <- extract_preds(g1,
res,
type=c("pred","rr"),
popdens="cov")
devtools::load_all()
o1 <- extract_preds(g1,
res,
type=c("pred","rr"),
popdens="cov")
devtools::load_all()
o1 <- extract_preds(g1,
res,
type=c("pred","rr"),
popdens="cov")
plot(o1[,"rr"])
help("capture.output")
capture.output(1+1)
capture.output(1+1, file = tempfile())
capture.output(a <- 1+1, file = tempfile())
a
devtools::load_all()
res2 <- lgcp_fit(g1,
popdens="cov",
priors = priors,
iter_warmup = 10,
iter_sampling = 10,
verbose = FALSE)
lgcp_fit
devtools::load_all()
res2 <- lgcp_fit(g1,
popdens="cov",
priors = priors,
iter_warmup = 10,
iter_sampling = 10,
verbose = FALSE)
devtools::load_all()
res2 <- lgcp_fit(g1,
popdens="cov",
priors = priors,
iter_warmup = 10,
iter_sampling = 10,
verbose = FALSE)
devtools::load_all()
res2 <- lgcp_fit(g1,
popdens="cov",
priors = priors,
iter_warmup = 10,
iter_sampling = 10,
verbose = FALSE)
rm(res2)
rm(tmp)
help(lgcp_fit)
devtools::load_all()
help(hotspots)
help(lgcp_fit)
devtools::unload()
devtools::document()
devtools::load_all()
help(hotspots)
plot(o1[,"pop_mean_pp"])
plot(o1[,"pred_mean_pp"])
